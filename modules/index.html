<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Modules - C3 Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Modules";
    var mkdocs_page_input_path = "modules.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/ebnf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bnf.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> C3 Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">About C3</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Installing</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../setup/">Setup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../firstproject/">Your first project</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../changesfromc/">Changes from C</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../compare/">Comparisons with other languages</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../examples/">Examples</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Modules</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#details">Details</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#importing-modules">Importing modules</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#restricted-imports">Restricted imports</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#aliased-imports">Aliased imports</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#visibility">Visibility</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#visibility-in-sub-modules">Visibility in sub modules</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#using-functions-and-types-from-other-modules">Using functions and types from other modules</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#textual-includes">Textual includes</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../types/">Types</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../arrays/">Arrays</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../functions/">Functions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../statements/">Statements</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../expressions/">Expressions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../errorhandling/">Errors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../undefinedbehaviour/">Undefined behaviour</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../conversion/">Conversions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../builtinmacros/">Built-in Macros</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../precedence/">Precedence</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../generics/">Generics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../macros/">Macros</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reflection/">Reflection</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../preconditions/">Pre and post conditions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../library/">Library</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ideas/">Crazy ideas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../naming/">Naming rules</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../comments/">Comments & Docs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../attributes/">Attributes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cinterop/">C Interop</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../syntax/">Grammar</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../sample/">More code examples</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Build system</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../buildintro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../project/">Project Structure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../buildcommands/">Commands</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Development</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contribute/">Contribute</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../changes/">Changes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../rejectedideas/">Rejected ideas</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">C3 Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Documentation &raquo;</li>
        
      
    
    <li>Modules</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="modules">Modules</h1>
<p>C3 groups functions, types, variables and macros into namespaces called modules. When doing builds, any C3 file must start with the <code>module</code> keyword, specifying the module. When compiling single files, the module is not needed and the module name is assumed to be the file name, converted to lower case, with any invalid characters replaced by underscore (<code>_</code>).</p>
<p>A module can consist of multiple files, e.g.</p>
<p><code>file_a.c3</code></p>
<pre><code>module foo;

/* ... */
</code></pre>

<p><code>file_b.c3</code></p>
<pre><code>module foo;

/* ... */
</code></pre>

<p><code>file_c.c3</code></p>
<pre><code>module baz;

/* ... */
</code></pre>

<p>Here <code>file_a.c3</code> and <code>file_b.c3</code> belong to the same module, <strong>foo</strong> while <code>file_c.c3</code> belongs to to <strong>bar</strong>.</p>
<h2 id="details">Details</h2>
<p>Some details about the C3 module system:</p>
<ul>
<li>Modules can be arbitrarily nested, e.g. <code>module foo::bar::baz;</code> to create the sub module baz in the sub module <code>bar</code> of the module <code>foo</code>.</li>
<li>Module names must be alphanumeric lower case letters plus the underscore character: <code>_</code>.</li>
<li>Module names are limited to 31 characters.</li>
</ul>
<h2 id="importing-modules">Importing modules</h2>
<p>Importing a module uses the <code>import</code> keyword. Imports have file scope, so consequently if <code>file_a.c3</code> imports the module <code>networking</code>, then <code>file_b.c3</code> cannot use those symbols unless it also imports <code>networking</code>.</p>
<p><code>file_a.c3</code></p>
<pre><code>module foo;

//import bar and stdio
import bar;
import stdio;

/* ... */
</code></pre>

<p><code>file_b.c3</code></p>
<pre><code>module foo;

//import bar and networking imported, but not storage
import bar;
import networking;

/* ... */
</code></pre>

<h3 id="restricted-imports">Restricted imports</h3>
<p>It is possible to restrict imports to sub modules or individual functions.</p>
<pre><code>module foo;

import bar::baz; // Only import the baz sub module.
import some_module : some_function; // Only import some_function
import some_module : SomeType, SomeOtherType, aFunc; // Import multiple symbols.
</code></pre>

<h3 id="aliased-imports">Aliased imports</h3>
<p>To avoid name collisions, it's possible to alias names. This will completely hide their old name in the file scope.</p>
<pre><code>module foo;

import bar::io as bio;
import baz::io;
import some_module : SomeType as FooType;
import foo : funcA as fooFuncA, funcB as fooFuncB;
</code></pre>

<h2 id="visibility">Visibility</h2>
<p>All files in the same module share the same global declaration namespace. However, by default a function is not visible outside the module. To make the symbol visible outside the module, use the keyword <code>public</code>.</p>
<pre><code>module foo;

public func void init() { .. }

func void open() { .. }
</code></pre>

<p>In this example, the other modules can use the init() function after importing foo, but only files in the foo module can use open(), as it isn't specified as public.</p>
<h3 id="visibility-in-sub-modules">Visibility in sub modules</h3>
<p>For declarations in sub modules, the rule is that a sub module may see any parent name, and any children name. However, other children sub modules are hidden.</p>
<p>Consider the modules <code>foo</code>, <code>foo::bar</code>, <code>foo::baz</code> and <code>foo::bar::xyzzy</code>. </p>
<ol>
<li>From <code>foo::bar</code> the symbols of <code>foo</code>, <code>foo::bar</code> and <code>foo::bar::xyzzy</code> are visible. </li>
<li>From <code>foo::baz</code> only <code>foo</code> and <code>foo::baz</code> are visibile. </li>
<li>Finally from <code>foo</code>, all the symbols of <code>foo</code>, <code>foo::bar</code>, <code>foo::baz</code> and <code>foo::bar::xyzzy</code> are visibile.</li>
</ol>
<h2 id="using-functions-and-types-from-other-modules">Using functions and types from other modules</h2>
<p>As a rule, functions, macros, constants, variables and types in the same module do not need any namespace prefix. For imported modules, and for parent or child modules the following rules hold:</p>
<ol>
<li>Functions, macros, constants and variables require <em>at least</em> the (sub-) module name.</li>
<li>Types do not require the module name except if the name is ambiguous.</li>
<li>In case of ambiguity, only so many levels of module names are needed as to make the symbol unambiguous.</li>
</ol>
<pre><code>// File a.c3

module a;

struct Foo { ... }
struct Bar { ... }
struct TheAStruct { ... }

func void anAFunction() { ... }

// File b.c3

module b;

struct Foo { ... }
struct Bar { ... }
struct TheBStruct { ... }

func void aBFunction() { ... }

// File c.c3

module b::c;
import a;

struct TheCStruct { ... }
struct Bar { ... }

func void aCFunction() { ... }

func void test()
{
    TheAStruct stA;
    TheBStruct stB;
    TheCStruct stC;
    // Name required to avoid ambiguity;
    b::Foo stBFoo;
    // Will always pick the current module's 
    // name.
    Bar bar;
    // Namespace required:
    a::aAFunction();
    b::aBFunction();
    // A local symbol does not require it:
    aCFunction(); 
}
</code></pre>

<p>This means that the rule for the common case can be summarized as</p>
<blockquote>
<p>Types without prefix, functions, variables, macros and constants prefixed with the sub module name.</p>
</blockquote>
<h2 id="textual-includes">Textual includes</h2>
<p>It's sometimes useful to include an entire file, doing so employs the <code>@include</code> macro.</p>
<p>File <code>Foo.c3</code></p>
<pre><code>module foo;

@include(&quot;Foo.x&quot;);

func void test() 
{
    printf(&quot;%d&quot;, testX(2));
}    
</code></pre>

<p>File <code>Foo.x</code></p>
<pre><code>public func testX(int i) 
{ 
    return i + 1; 
}
</code></pre>

<p>The result is as if <code>Foo.c3</code> contained the following:</p>
<pre><code>module foo;

public func testX(int i) 
{ 
    return i + 1; 
}

func void test() 
{
    printf(&quot;%d&quot;, testX(2));
}    
</code></pre>

<p>The include may use an absolute or relative path, the relative path is always relative to the source file in which the include appears.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../types/" class="btn btn-neutral float-right" title="Types">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../examples/" class="btn btn-neutral" title="Examples"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../examples/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../types/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
