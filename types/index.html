<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Types - C3 Documentation</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Types";
    var mkdocs_page_input_path = "types.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/rust.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/ebnf.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/bnf.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> C3 Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">About C3</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Installing</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../setup/">Setup</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../firstproject/">Your first project</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Documentation</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="../changesfromc/">Changes from C</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../compare/">Comparisons with other languages</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../examples/">Examples</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../modules/">Modules</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="./">Types</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#naming">Naming</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#differences-from-c">Differences from C</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#basic-types">Basic types</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#integer-types">Integer types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#integer-arithmetics">Integer arithmetics</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#integer-constants">Integer constants</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#twocc-fourcc-and-eightcc">TwoCC, FourCC and EightCC</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#base64-and-hex-data-literals">Base64 and hex data literals</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#floating-point-types">Floating point types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#floating-point-constants">Floating point constants</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#c-compatibility">C compatibility</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#pointer-types">Pointer types</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#array-types">Array types</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#enum">Enum</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#enum-type-inference">Enum type inference</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#error">Error</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#failable">Failable</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#struct-types">Struct types</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#struct-subtyping">Struct subtyping</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#union-types">Union types</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#anonymous-sub-structs-unions">Anonymous sub-structs / unions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tagged-unions">Tagged unions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#casting">Casting</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#anonymous-structs">Anonymous structs</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../define/">Define</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../arrays/">Arrays</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../functions/">Functions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../statements/">Statements</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../expressions/">Expressions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../errorhandling/">Errors</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../undefinedbehaviour/">Undefined behaviour</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../conversion/">Conversions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../builtinmacros/">Built-in Macros</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../precedence/">Precedence</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../generics/">Generics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../macros/">Macros</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../reflection/">Reflection</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../preconditions/">Pre and post conditions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../library/">Library</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../ideas/">Crazy ideas</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../naming/">Naming rules</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../comments/">Comments & Docs</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../attributes/">Attributes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../cinterop/">C Interop</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../syntax/">Grammar</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../sample/">More code examples</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../specification/">Specification</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Build system</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../buildintro/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../project/">Project Structure</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../buildcommands/">Commands</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Development</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../contribute/">Contribute</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../changes/">Changes</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../rejectedideas/">Rejected ideas</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">C3 Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Documentation &raquo;</li>
        
      
    
    <li>Types</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="types">Types</h1>
<p>As usual, types are divided into basic types and user defined types (enum, union, struct, error, aliases). All types are defined on a global level. Using the <code>public</code> prefix is necessary for any type that is to be exposed outside of the current module.</p>
<h5 id="naming">Naming</h5>
<p>All user defined types in C3 starts with upper case. So <code>MyStruct</code> or <code>Mystruct</code> would be fine, <code>mystruct_t</code> or <code>mystruct</code> would not. Since this affects C compatibility, it is possible to use attributes to change the external name of a type:</p>
<pre><code>struct Stat @extname(&quot;stat&quot;)
{
    // ...
} 

func CInt stat(const char* pathname, Stat* buf);
</code></pre>
<h5 id="differences-from-c">Differences from C</h5>
<p>Unlike C, C3 does not use type qualifiers. <code>const</code> exists, but is a storage class modifier, not a type qualifier. Instead of <code>volatile</code>, volatile loads and stores are used. In order to signal restrictions on variable usage, like const-ness <a href="../preconditions/">preconditions</a> are used.</p>
<h2 id="basic-types">Basic types</h2>
<p>Basic types are divided into floating point types, and integer types. Integer types being either signed or unsigned.</p>
<h5 id="integer-types">Integer types</h5>
<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="right">bit size</th>
<th align="center">signed</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">bool*</td>
<td align="right">1</td>
<td align="center">no</td>
</tr>
<tr>
<td align="left">ichar</td>
<td align="right">8</td>
<td align="center">yes</td>
</tr>
<tr>
<td align="left">char</td>
<td align="right">8</td>
<td align="center">no</td>
</tr>
<tr>
<td align="left">short</td>
<td align="right">16</td>
<td align="center">yes</td>
</tr>
<tr>
<td align="left">ushort</td>
<td align="right">16</td>
<td align="center">no</td>
</tr>
<tr>
<td align="left">int</td>
<td align="right">32</td>
<td align="center">yes</td>
</tr>
<tr>
<td align="left">uint</td>
<td align="right">32</td>
<td align="center">no</td>
</tr>
<tr>
<td align="left">long</td>
<td align="right">64</td>
<td align="center">yes</td>
</tr>
<tr>
<td align="left">ulong</td>
<td align="right">64</td>
<td align="center">no</td>
</tr>
<tr>
<td align="left">iptr**</td>
<td align="right">varies</td>
<td align="center">yes</td>
</tr>
<tr>
<td align="left">uptr**</td>
<td align="right">varies</td>
<td align="center">no</td>
</tr>
<tr>
<td align="left">iptrdiff**</td>
<td align="right">varies</td>
<td align="center">yes</td>
</tr>
<tr>
<td align="left">uptrdiff**</td>
<td align="right">varies</td>
<td align="center">no</td>
</tr>
<tr>
<td align="left">isize**</td>
<td align="right">varies</td>
<td align="center">yes</td>
</tr>
<tr>
<td align="left">usize**</td>
<td align="right">varies</td>
<td align="center">no</td>
</tr>
</tbody>
</table>
<p>* <code>bool</code> will be stored as a byte.<br />
** size, pointer and pointer sized types depend on platform.</p>
<h5 id="integer-arithmetics">Integer arithmetics</h5>
<p>All signed integer arithmetics uses 2's complement.</p>
<h5 id="integer-constants">Integer constants</h5>
<p>Integer constants are 1293832 or -918212. Unlike C the "type" of an integer constant is a special compile time int. All constant operations, for example <code>9283 &lt;&lt; 2</code> will be resolved at compile time. An compile time error will result if the constant is too large to fit whatever variable it is assigned or compared to.</p>
<p>Integers may be written in decimal, but also</p>
<ul>
<li>in binary with the prefix 0b e.g. <code>0b0101000111011</code>, <code>0b011</code></li>
<li>in octal with the prefix 0o e.g. <code>0o0770</code>, <code>0o12345670</code></li>
<li>in hexadecimal with the prefix 0x e.g. <code>0xdeadbeef</code> <code>0x7f7f7f</code></li>
</ul>
<p>Furthermore, underscore <code>_</code> may be used to add space between digits to improve readability e.g. <code>0xFFFF_1234_4511_0000</code>, <code>123_000_101_100</code></p>
<h5 id="twocc-fourcc-and-eightcc">TwoCC, FourCC and EightCC</h5>
<p><a href="https://en.wikipedia.org/wiki/FourCC">FourCC</a> codes are often used to identify binary format types. C3 adds direct support for 4 character codes, but also 2 and 8 characters:</p>
<ul>
<li>2 character strings, e.g. <code>'C3'</code>, would convert to an ushort or short.</li>
<li>4 character strings, e.g. <code>'TEST'</code>, converts to an uint or int. </li>
<li>8 character strings, e.g. <code>'FOOBAR11'</code> converts to an ulong or long.</li>
</ul>
<p>Conversion is always done so that the character string has the correct ordering in memory. This means that the same characters may have different integer values on different architectures due to endianess.</p>
<h5 id="base64-and-hex-data-literals">Base64 and hex data literals</h5>
<p>Base64 encoded values work like TwoCC/FourCC/EightCC, in that is it laid out in byte order in memory. It uses the format <code>'&lt;base64&gt;'b64</code>. Hex encoded values work as base64 but with the format <code>'&lt;hex&gt;'x</code>. In data literals any whitespace is ignored, so <code>'00 00 11'x</code> encodes to the same value as <code>'000011'x</code>.</p>
<p>In our case we could encode <code>'Rk9PQkFSMTE='b64</code> as <code>'FOOBAR11'</code>.</p>
<p>Base64 and hex data literals also has a form to allow initializing char arrays, instead of enclosing the data in <code>''</code>, enclose the data in <code>""</code></p>
<pre><code>char[*] hello_world_base64 = &quot;SGVsbG8gV29ybGQh&quot;b64;
char[*] hello_world_hex = &quot;4865 6c6c 6f20 776f 726c 6421&quot;x;
</code></pre>
<h5 id="floating-point-types">Floating point types</h5>
<table>
<thead>
<tr>
<th>Name</th>
<th align="right">alias</th>
<th align="right">bit size</th>
</tr>
</thead>
<tbody>
<tr>
<td>half*</td>
<td align="right">f16</td>
<td align="right">16</td>
</tr>
<tr>
<td>float</td>
<td align="right">f32</td>
<td align="right">32</td>
</tr>
<tr>
<td>double</td>
<td align="right">f64</td>
<td align="right">64</td>
</tr>
<tr>
<td>quad*</td>
<td align="right">f128</td>
<td align="right">128</td>
</tr>
</tbody>
</table>
<p>*support depends on platform</p>
<h5 id="floating-point-constants">Floating point constants</h5>
<p>Floating point constants will <em>at least</em> use 64 bit precision. Just like for integer constants, it is allowed to use underscore, but it may not occur immediagely before or after a dot or an exponential.</p>
<p>Floating point values may be written in decimal or hexadecimal. For decimal, the exponential symbol is e (or E, both are acceptable), for hexadecimal p (or P) is used: <code>-2.22e-21</code> <code>-0x21.93p-10</code> </p>
<h3 id="c-compatibility">C compatibility</h3>
<p>For C compatibility the following types are also defined when including std::cinterop</p>
<table>
<thead>
<tr>
<th>Name</th>
<th align="right">c type</th>
</tr>
</thead>
<tbody>
<tr>
<td>CChar</td>
<td align="right">char</td>
</tr>
<tr>
<td>CShort</td>
<td align="right">short int</td>
</tr>
<tr>
<td>CUShort</td>
<td align="right">unsigned short int</td>
</tr>
<tr>
<td>CInt</td>
<td align="right">int</td>
</tr>
<tr>
<td>CUInt</td>
<td align="right">unsigned int</td>
</tr>
<tr>
<td>CLong</td>
<td align="right">long int</td>
</tr>
<tr>
<td>CULong</td>
<td align="right">unsigned long int</td>
</tr>
<tr>
<td>CLongLong</td>
<td align="right">long long</td>
</tr>
<tr>
<td>CULongLong</td>
<td align="right">unsigned long long</td>
</tr>
<tr>
<td>CFloat</td>
<td align="right">float</td>
</tr>
<tr>
<td>CDouble</td>
<td align="right">double</td>
</tr>
<tr>
<td>CLongDouble</td>
<td align="right">long double</td>
</tr>
</tbody>
</table>
<p>Note that signed C char and unsigned char will correspond to <code>ichar</code> and <code>char</code>. <code>CChar</code> is only available to match the default signedness of <code>char</code> on the platform.</p>
<h3 id="pointer-types">Pointer types</h3>
<p>Pointers mirror C: <code>Foo*</code> is a pointer to a <code>Foo</code>, while <code>Foo**</code> is a pointer to a pointer of Foo.</p>
<h3 id="array-types">Array types</h3>
<p>Arrays are indicated by <code>[&lt;size&gt;]</code> after the type, e.g. <code>int[4]</code>. Subarrays use the <code>type[]</code>. For initialization the wildcard <code>type[*]</code> can be used to infer the size
from the initializer. See the chapter on <a href="../arrays">arrays</a>.</p>
<h2 id="enum">Enum</h2>
<p>Enum (enumerated) types use the following syntax:</p>
<pre><code>enum State : int 
{
    PENDING = 0,
    RUNNING,
    TERMINATED
}
</code></pre>
<p>Enum constants are namespaces by default, just like C++'s class enums. So accessing the enums above would for example use <code>State.PENDING</code> rather than <code>PENDING</code>.</p>
<h3 id="enum-type-inference">Enum type inference</h3>
<p>When an enum is used in where the type can be inferred, like in case-clauses or in variable assignment, it is allowed to drop the enum name:</p>
<pre><code>State foo = PENDING; // State.PENDING is inferred.
switch (foo)
{
    case RUNNING: // State.RUNNING is inferred
        ...
    default:
        ...
}

func void test(State s) { ... }

...

test(RUNNING); // State.RUNNING is inferred
</code></pre>
<p>In the case that it collides with a global in the same scope, it needs the qualifier:</p>
<pre><code>module test;

func void testState(State s) { ... }

State RUNNING = State.TERMINATED; // Don't do this!

... 

test(RUNNING); // Ambiguous
test(test::RUNNING); // Uses global.
test(State.RUNNING); // Uses enum constant.
</code></pre>
<h2 id="error">Error</h2>
<p>Error types are similar to enums, and are used for error returns.</p>
<pre><code>error IOError;
error ParseError
{
    int line;
    int col;
}
</code></pre>
<p>The data inside of an error cannot exceed the size of an <code>iptr</code> that is pointer sized.</p>
<p>An error is similar to a struct and is initialized the same way. One exception is that simple errors without a body does not need to be
created using a <code>()</code>:</p>
<pre><code>return IOError!; 
return IOError({})!; // Same as above
return ParseError({ line, col })!;
</code></pre>
<p>In order to pass the error on the error side channel instead of as a value, the <code>!</code>.</p>
<h2 id="failable">Failable</h2>
<p>A failable is created by taking a type and appending <code>!</code>. A failable is a tagged union containing either the given type or an error.</p>
<pre><code>int! i;
i = 5; // Assigning a real value to i.
i = IOError!; // Assigning an error to i.
</code></pre>
<p>Only variables and return variables may be of the <em>failable</em> type. Function and macro parameters may not be failable types.</p>
<pre><code>func Foo*! getFoo() { ... } // Ok!
func void processFoo(Foo*! f) { ... } // Error!
int! x = 0; // Ok!
</code></pre>
<p>Read more about the errors on the page about <a href="../errorhandling">error handling</a>.</p>
<h2 id="struct-types">Struct types</h2>
<p>Structs are always named:</p>
<pre><code>struct Person  
{
    char age;
    char* name;
}
</code></pre>
<p>A struct's members may be accessed using dot notation, even for pointers to structs.</p>
<pre><code>Person p;
p.age = 21;
p.name = &quot;John Doe&quot;;

io::printf(&quot;%s is %d years old.&quot;, p.age, p.name);

Person* pPtr = &amp;p;
pPtr.age = 20; // Ok!

io::printf(&quot;%s is %d years old.&quot;, pPtr.age, pPtr.name);
</code></pre>
<p>(One might wonder whether it's possible to take a <code>Person**</code> and use dot access. – It's not, only one level of dereference is done.)</p>
<h2 id="struct-subtyping">Struct subtyping</h2>
<p>C3 allows creating struct subtypes:</p>
<pre><code>struct ImportantPerson 
{
    inline Person person;
    char* title;
}

func printPerson(Person p)
{
    io::printf(&quot;%s is %d years old.&quot;, p.age, p.name);
}


ImportantPerson important_person;
important_person.age = 25;
important_person.name = &quot;Jane Doe&quot;;
important_person.title = &quot;Rockstar&quot;;
printPerson(important_person); // Only the first part of the struct is copied.
</code></pre>
<h2 id="union-types">Union types</h2>
<p>Union types are defined just like structs.</p>
<pre><code>union Integral  
{
    byte as_byte;
    short as_short;
    int as_int;
    long as_long;
}
</code></pre>
<p>As usual unions are used to hold one of many possible values:</p>
<pre><code>Integral i;
i.as_byte = 40; // Setting the active member to as_byte

i.as_int = 500; // Changing the active member to as_int

// Undefined behaviour: as_byte is not the active member, 
// so this will probably print garbage.
io.printf(&quot;%d&quot;, i.as_byte); 
</code></pre>
<p>Note that unions only take up as much space as their largest member, so <code>sizeof(Integral)</code> is equivalent to <code>sizeof(long)</code>.</p>
<h2 id="anonymous-sub-structs-unions">Anonymous sub-structs / unions</h2>
<p>Just like in later versions of C, anonymous sub-structs / unions are allowed.</p>
<pre><code>struct Person  
{
    char age;
    char* name;
    union 
    {
        int employee_nr;
        uint other_nr;
    }
    union subname 
    {
        bool b;
        Callback cb;
    }
}
</code></pre>
<h2 id="tagged-unions">Tagged unions</h2>
<p>In C, using structs with an enum value to indicate type is common practice. C3 also offers tagged unions, which is formalizing this within the language:</p>
<p>TBD: Exact syntax (see the <a href="../ideas">ideas</a> page)</p>
<h2 id="casting">Casting</h2>
<p>Casting does not use the C-style <code>(&lt;NewType&gt;) &lt;expression&gt;</code> instead uses <code>(&lt;NewType&gt;)(&lt;expression&gt;)</code></p>
<pre><code>float f = 2.0;
int i = (int)(f);
</code></pre>
<h2 id="anonymous-structs">Anonymous structs</h2>
<p>It's possible to use anonymous structs (structs without name) as arguments. These will only be checked for structural equivalence.</p>
<p><em>NOTE: This syntax is not final.</em></p>
<pre><code>func void set_coordinates(struct { int i; int j; } coord) { ... }

struct Vec2
{
    int x;
    int y;
}

struct Vector
{
    int px;
    int py;
}

struct Vec3
{
    int x;
    int y;
    int z;
}

func void test()
{
    Vec2 v2 = { 1, 2 };
    Vector v = { 1, 4 };
    Vec3 v3 = { 1, 2, 3 };
    set_coordinates(v2);  // valid
    set_coordinates(v);   // valid
    set_coordinates(v3);  // ERROR, no structural equivalence.
    struct { int i; int j; } xy = v2;
    v = (struct { int, int })(v2);
}
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../define/" class="btn btn-neutral float-right" title="Define">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../modules/" class="btn btn-neutral" title="Modules"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../modules/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../define/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
